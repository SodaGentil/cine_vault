

# 加法器

##  一位全加器 (FA)

-  **能力**：只能支持 1 bit 加 ==注意说的是每一个输入/输出端只能接收/输出1bit信号（0/1）==
    
- **实现逻辑**：
    
    - **本位和**：**S<sub>i</sub> = A<sub>i</sub> ⊕ B<sub>i</sub> ⊕ C<sub>i-1</sub>**
        
    - **向更高位的进位**：**C<sub>i</sub> = A<sub>i</sub>B<sub>i</sub> + (A<sub>i</sub> ⊕ B<sub>i</sub>)C<sub>i-1</sub>**
        

##  并行加法器

###  串行进位

- **实现**：将 n 个一位全加器简单串联，可支持 n bit 并行加
    
- **缺点**：进位信息是串行产生的，运算速度较慢
    

###  并行进位

- **实现**：对“串行进位”的加法器电路进行优化，增加 CLA部件
    
- **优点**：进位信息是并行产生的，运算速度更快
    

##  带标志位的加法器

- **定义**：在并行加法器的基础上，增加电路逻辑，输出 OF、SF、ZF、CF 等标志位
    

### 主要标志位详解

- **OF**
    
    - **含义**：**有符号数**的加减运算是否发生了溢出。
        
    - **判定**：OF=1 时，说明发生了溢出。
        
- **SF**
    
    - **含义**：**有符号数**加减运算结果的正负性。
        
    - **判定**：SF=0 时表示运算结果为正（SF=1 表示为负）。
        
- **ZF**
    
    - **含义**：加减运算结果是否为 0。
        
    - **判定**：ZF=1 表示运算结果为 0。
        
- **CF**
    
    - **含义**：**无符号数**加减法是否发生了溢出。
        
    - **判定**：当 CF=1 时说明发生了溢出（进位或借位）。




# 算术逻辑单元 ALU

## 功能

- **算术运算**：加、减、乘、除 等。
    
- **逻辑运算**：与、或、非、异或、移位 等。
    
- **其他**：求补码、直送 等。
    
- **注意**：总共支持 k 种功能。
    

## 实现原理

- **最简单的实现方式**：多个功能电路 + MUX，通过控制信号选通 MUX 的某个线路。
    

## 看懂 ALU 图示

### 输入

- **两个 n bit 运算数 A、B**：★ 与机器字长相同。
    
- **m bit 控制信号**：
    
    - 由控制器经过指令译码产生。
        
    - **控制信号位数**：m ≥ ⌈log<sub>2</sub>k⌉ bit。
        
- **其他输入信号**（如：来自更低位的进位信息）。
    

### 输出

- **n bit 运算结果 F**：★ 与机器字长相同。
    
- **OF/ZF/SF/CF 等标志信息**：★ 标志位信息送入 PSW 寄存器（又称 FR）。
    
- **其他输出信号**（如：往更高位的进位信息）。
    

## 考点补充

- CPU 主要由运算器、控制器组成。
    
- ALU 是运算器的核心。
    
- 加法器是 ALU 的核心（加减乘除运算都是基于加法实现的）。


# 定点数的移位运算

## 逻辑移位

- **逻辑左移**：高位移出丢弃，低位补 0。
    
    - ★ 与算术左移效果相同。
        
- **逻辑右移**：低位移出丢弃，高位补 0。
    

## 算术移位

- **算术左移**：高位移出丢弃，低位补 0。
    
- **算术右移**：低位移出丢弃，**高位补符号位**。
    

## 移位运算与乘/除运算之间的关系

### 对无符号整数

- **每逻辑左移一位**：相当于乘以 2。
    
    - 注意：若高位移出 1，则发生**溢出**。
        
- **每逻辑右移一位**：相当于除以 2。
    
    - 注意：若低位移出 1，则**丢失精度**。
        

### 对带符号整数

- **每算术左移一位**：相当于乘以 2。
    
    - 注意：若左移前后的符号位不同，则发生**溢出**。
        
- **每算术右移一位**：相当于除以 2。
    
    - 注意：若低位移出 1，则**丢失精度**。
        

### 常考

- 用左移 r 位等效实现 × 2<sup>r</sup>。
    
- 用右移 r 位等效实现 ÷ 2<sup>r</sup>。